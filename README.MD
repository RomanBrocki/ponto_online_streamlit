# ğŸ•’ Ponto EletrÃ´nico Residencial

Este projeto Ã© um aplicativo de ponto eletrÃ´nico simples, feito com [Streamlit](https://streamlit.io/) e [Supabase](https://supabase.com/), para registrar e consultar jornadas de trabalho de empregadas domÃ©sticas.

## ğŸ¯ Funcionalidades

- MarcaÃ§Ã£o de ponto do dia atual:
  - Entrada
  - SaÃ­da para almoÃ§o
  - Retorno do almoÃ§o
  - SaÃ­da final
- SugestÃ£o automÃ¡tica de horÃ¡rio de saÃ­da com base na jornada diÃ¡ria
- Controle de acesso por login (empregada ou administrador)
- Consulta de registros por perÃ­odo (interface administrativa)
- GeraÃ§Ã£o de relatÃ³rios mensais em PDF com resumo de faltas e horas extras

---

## ğŸ” Login e SeguranÃ§a

O acesso ao app Ã© feito com **dois campos**:

- **Login**: identifica o perfil (`rani` ou `brocki`, por exemplo)
- **Senha**: um fragmento exclusivo que completa a URL de acesso ao Supabase

### âœ³ï¸ Como funciona a seguranÃ§a:

- O cÃ³digo **nÃ£o expÃµe diretamente** a URL nem a API Key do banco
- No login, a senha digitada Ã© usada para **compor dinamicamente**:
  - A URL de acesso (`URL_INICIO + senha + URL_FIM`)
  - A KEY, se desejado
- Isso permite manter o repositÃ³rio pÃºblico sem expor credenciais sensÃ­veis

### ğŸ” LÃ³gica de acesso (fork por perfil):

- Se o login for de uma **empregada**, o app:
  - Exibe apenas o formulÃ¡rio de ponto do **dia atual**
  - Salva os dados no Supabase com o nome da empregada

- Se o login for do **administrador**, o app:
  - Exibe um painel de seleÃ§Ã£o por empregada e mÃªs
  - Permite gerar **relatÃ³rios em PDF**
  - Exibe totais de faltas e horas extras

---

## ğŸ§± Estrutura do Projeto

```bash
ponto_online/
â”œâ”€â”€ app.py                        # Interface principal com Streamlit
â”‚
â”œâ”€â”€ interface/                   # Elementos da interface e variÃ¡veis globais
â”‚   â”œâ”€â”€ vars.py                  # Logins, carga horÃ¡ria, nomes
â”‚   â”œâ”€â”€ visuais.py               # Estilo visual e layout
â”‚   â””â”€â”€ helpers.py               # FunÃ§Ãµes auxiliares para a interface
â”‚
â”œâ”€â”€ supabase/                    # IntegraÃ§Ã£o com a API REST do Supabase
â”‚   â”œâ”€â”€ secrets.py               # Fragmentos pÃºblicos da URL e Key
â”‚   â”œâ”€â”€ config.py                # Montagem dinÃ¢mica de URL/KEY
â”‚   â”œâ”€â”€ headers.py               # Headers padrÃ£o
â”‚   â””â”€â”€ utils.py                 # Leitura, escrita e consulta no Supabase
â”‚
â”œâ”€â”€ relatorio/                   # CÃ¡lculo e geraÃ§Ã£o de PDFs
â”‚   â”œâ”€â”€ utils.py                 # Regras de negÃ³cio (faltas, horas)
â”‚   â””â”€â”€ pdf_generator.py         # GeraÃ§Ã£o de relatÃ³rios em PDF
â”‚
â”œâ”€â”€ assets/                      # Imagens e estilos adicionais
â”‚
â”œâ”€â”€ requirements.txt             # DependÃªncias do projeto
â””â”€â”€ README.md                    # Este documento
âš™ï¸ InstalaÃ§Ã£o e ExecuÃ§Ã£o
bash
Copiar
Editar
# Clone o repositÃ³rio
git clone https://github.com/seu-usuario/ponto_online.git
cd ponto_online

# Crie e ative o ambiente virtual
python -m venv .venv
source .venv/bin/activate  # ou .venv\Scripts\activate no Windows

# Instale as dependÃªncias
pip install -r requirements.txt

# Rode o app
streamlit run app.py

âœï¸ Autor
Roman Wladyslaw Brocki Neto