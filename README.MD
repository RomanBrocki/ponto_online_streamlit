# ğŸ•’ Ponto Online para Empregadas DomÃ©sticas

Este Ã© um aplicativo de ponto eletrÃ´nico simples, desenvolvido em **Python com Streamlit**, voltado ao **registro e acompanhamento da jornada de trabalho de empregadas domÃ©sticas**. Ele permite registrar horÃ¡rios, calcular automaticamente o saldo de horas extras ou dÃ©ficit, e gerar relatÃ³rios mensais em PDF para controle.

---

## ğŸ“Œ Objetivo

Facilitar o controle de jornada de empregadas domÃ©sticas de forma simples, acessÃ­vel e segura â€” diretamente pelo navegador, com acesso por login e senha, sem necessidade de infraestrutura complexa.

---

## âš™ï¸ Funcionalidades

### ğŸ‘¤ **Perfil Empregada**
- MarcaÃ§Ã£o de ponto em quatro etapas:
  - ğŸŸ¢ Entrada
  - ğŸ½ï¸ SaÃ­da para almoÃ§o
  - ğŸ”„ Retorno do almoÃ§o
  - ğŸ”´ SaÃ­da final
- SugestÃ£o automÃ¡tica do prÃ³ximo horÃ¡rio com base:
  - No tempo decorrido desde o inÃ­cio da jornada
  - No tempo de almoÃ§o jÃ¡ computado
- ExibiÃ§Ã£o do **saldo mensal de horas extras ou horas faltantes**
- Preenchimento automÃ¡tico da data e hora atual
- Interface simplificada, voltada para uso no celular

---

### ğŸ› ï¸ **Perfil Administrador**
- SeleÃ§Ã£o de mÃªs e ano para consulta
- VisualizaÃ§Ã£o completa dos registros de uma empregada
- EdiÃ§Ã£o detalhada dos registros de um dia especÃ­fico:
  - InserÃ§Ã£o e modificaÃ§Ã£o de horÃ¡rios
  - MarcaÃ§Ã£o de faltas, feriados ou dispensas justificadas
  - ExclusÃ£o de registros
- GeraÃ§Ã£o de **relatÃ³rio mensal em PDF**, com:
  - Tabela de registros diÃ¡rios
  - ObservaÃ§Ãµes e saldos por dia
  - Resumo de faltas, feriados e horas extras no mÃªs

---

## ğŸ” Login e SeguranÃ§a

O sistema usa **login e senha**, com duas funÃ§Ãµes importantes:

- **Login** identifica o perfil (`empregada` ou `admin`)
- **Senha** Ã© usada como fragmento secreto para compor a URL de acesso ao Supabase

### Como funciona:
- A URL e a chave de API **nÃ£o ficam visÃ­veis no cÃ³digo**
- Durante o login, a senha digitada **completa dinamicamente a URL**
  - Exemplo: `https://crvqo<senha>.supabase.co`
- Isso permite manter o repositÃ³rio pÃºblico sem risco de vazamento de credenciais

---

## ğŸ§± Estrutura do Projeto

```bash
ponto_online/
â”œâ”€â”€ app.py                        # Arquivo principal com controle da navegaÃ§Ã£o
â”‚
â”œâ”€â”€ interface/                   # Interface e elementos visuais
â”‚   â”œâ”€â”€ i_vars.py                 # Carga horÃ¡ria e logins vÃ¡lidos
â”‚   â”œâ”€â”€ i_visuais.py              # Layout visual (background, tÃ­tulo, boas-vindas)
â”‚   â”œâ”€â”€ i_login.py                # Tela de login e montagem de sessÃ£o
â”‚   â”œâ”€â”€ i_empregada.py            # Interface para marcaÃ§Ã£o de ponto
â”‚   â”œâ”€â”€ i_admin.py                # Interface para visualizaÃ§Ã£o e ediÃ§Ã£o dos registros
â”‚   â””â”€â”€ i_helpers.py              # FunÃ§Ãµes auxiliares de data e validaÃ§Ã£o
â”‚
â”œâ”€â”€ supabase/                    # IntegraÃ§Ã£o com o banco Supabase
â”‚   â”œâ”€â”€ s_secrets.py              # Fragmentos da URL e chave pÃºblica
â”‚   â”œâ”€â”€ s_config.py               # Monta URL e KEY com base na senha digitada
â”‚   â”œâ”€â”€ s_headers.py              # Headers padrÃ£o para requisiÃ§Ãµes REST
â”‚   â””â”€â”€ s_utils.py                # FunÃ§Ãµes para CRUD no Supabase (GET, POST, PATCH, DELETE)
â”‚
â”œâ”€â”€ relatorio/                   # LÃ³gica de anÃ¡lise e geraÃ§Ã£o de PDFs
â”‚   â”œâ”€â”€ r_utils.py                # AnÃ¡lise da jornada (faltas, extras, pendÃªncias)
â”‚   â””â”€â”€ r_pdf_generator.py        # GeraÃ§Ã£o do relatÃ³rio em PDF
â”‚
â”œâ”€â”€ assets/                      # Imagens e estilos adicionais (ex: fundo da pÃ¡gina)
â”‚
â”œâ”€â”€ requirements.txt             # DependÃªncias do projeto
â””â”€â”€ README.md                    # Este documento
```

---

## ğŸ“¦ Requisitos

O projeto usa bibliotecas populares do ecossistema Python:

```txt
streamlit
requests
reportlab
pandas
numpy
python-dateutil
matplotlib
```

VocÃª pode copiÃ¡-las para seu prÃ³prio `requirements.txt`.

---

## ğŸš€ InstalaÃ§Ã£o e ExecuÃ§Ã£o

```bash
# Clone o repositÃ³rio
git clone https://github.com/RomanBrocki/ponto_online_streamlit
cd ponto_online

# Crie e ative o ambiente virtual
python -m venv .venv
source .venv/bin/activate      # Linux/macOS
# .venv\Scripts\activate       # Windows

# Instale as dependÃªncias
pip install -r requirements.txt

# Rode o app
streamlit run app.py
```

---

## ğŸ“Š ObservaÃ§Ãµes TÃ©cnicas

- O projeto assume uma tabela no Supabase chamada `ponto_eletronico`, com os campos:
  - `id`, `empregado`, `data`, `entrada`, `saida_almoco`, `volta_almoco`, `saida_final`, `observacao`
- Todos os horÃ¡rios sÃ£o armazenados como `HH:MM:SS`
- A autenticaÃ§Ã£o Ã© feita via chave pÃºblica (`anon key`) segura apenas para leitura/escrita controlada â€” sem permissÃµes administrativas
- Os dados sÃ£o manipulados exclusivamente via **API REST**, sem SDK

---

## âœï¸ Autor

Roman Wladyslaw Brocki Neto  